{"ast":null,"code":"import { Product } from 'src/app/models/product';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/messenger.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./cart-item/cart-item.component\";\nfunction CartComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1, \"Your Cart is Empty.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CartComponent_ul_1_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 6);\n    i0.ɵɵelement(1, \"app-cart-item\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cartItem\", item_r3);\n  }\n}\nfunction CartComponent_ul_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 3);\n    i0.ɵɵtemplate(1, CartComponent_ul_1_li_1_Template, 2, 1, \"li\", 4);\n    i0.ɵɵelementStart(2, \"li\", 5)(3, \"strong\");\n    i0.ɵɵtext(4, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.cartItems);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 2, ctx_r1.cartTotal, \"$\"), \" \");\n  }\n}\nexport class CartComponent {\n  constructor(msg) {\n    this.msg = msg;\n    this.cartItems = [\n      // { id: 1, proudctId: 1, productName: 'Test 1', qty: 4, price: 100 },\n      // { id: 2, proudctId: 3, productName: 'Test 3', qty: 5, price: 50 },\n      // { id: 3, proudctId: 2, productName: 'Test 2', qty: 3, price: 150 },\n      // { id: 4, proudctId: 4, productName: 'Test 4', qty: 2, price: 200 },\n    ];\n    this.cartTotal = 0;\n  }\n  ngOnInit() {\n    this.msg.getMsg().subscribe((product = Product) => {\n      this.addProductToCart(product);\n    });\n  }\n  addProductToCart(product) {\n    let productExists = false;\n    for (let i in this.cartItems) {\n      if (this.cartItems[i].productId === product.id) {\n        this.cartItems[i].qty++;\n        productExists = true;\n        break;\n      }\n    }\n    if (productExists) {\n      this.cartItems.push({\n        productId: product.id,\n        productName: product.name,\n        qty: 1,\n        price: product.price\n      });\n    }\n    // if (this.cartItems.length === 0) {\n    //   this.cartItems.push({\n    //     productId: product.id,\n    //     productName: product.name,\n    //     qty: 1,\n    //     price: product.price\n    //   })\n    // } else {\n    //   for (let i in this.cartItems) {\n    //     if (this.cartItems[i].productId === product.id) {\n    //       this.cartItems[i].qty++\n    //     } else {\n    //       this.cartItems.push({\n    //         productId: product.id,\n    //         productName: product.name,\n    //         qty: 1,\n    //         price: product.price\n    //       })\n    //     }\n    //   }\n    // }\n    this.cartTotal = 0;\n    this.cartItems.forEach(item => {\n      this.cartTotal += item.qty * item.price;\n    });\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.MessengerService));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[\"class\", \"alert alert-info\", 4, \"ngIf\"], [\"class\", \"list-group\", 4, \"ngIf\"], [1, \"alert\", \"alert-info\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", \"active\"], [1, \"list-group-item\"], [3, \"cartItem\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CartComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, CartComponent_ul_1_Template, 7, 5, \"ul\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length > 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.CartItemComponent, i2.CurrencyPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,OAAO,QAAQ,wBAAwB;;;;;;;ICFhDC,8BAA6D;IAAAA,mCAAmB;IAAAA,iBAAM;;;;;IAGpFA,6BAA2D;IACzDA,mCAAiD;IACnDA,iBAAK;;;;IADYA,eAAiB;IAAjBA,kCAAiB;;;;;IAFpCA,6BAAoD;IAClDA,iEAEK;IAELA,6BAAmC;IACzBA,qBAAK;IAAAA,iBAAS;IAACA,YACzB;;IAAAA,iBAAK;;;;IANwCA,eAAY;IAAZA,0CAAY;IAKhCA,eACzB;IADyBA,4EACzB;;;ADAF,OAAM,MAAOC,aAAa;EAWxBC,YAAoBC,GAAqB;IAArB,QAAG,GAAHA,GAAG;IATvB,cAAS,GAAG;MACV;MACA;MACA;MACA;IAAA,CACD;IAED,cAAS,GAAG,CAAC;EAEgC;EAE7CC,QAAQ;IACN,IAAI,CAACD,GAAG,CAACE,MAAM,EAAE,CAACC,SAAS,CAAC,CAACC,OAAO,GAAER,OAAO,KAAI;MAC/C,IAAI,CAACS,gBAAgB,CAACD,OAAO,CAAC;IAChC,CAAC,CAAC;EACJ;EAEAC,gBAAgB,CAACD,OAAgB;IAE/B,IAAIE,aAAa,GAAG,KAAK;IAEzB,KAAK,IAAIC,CAAC,IAAI,IAAI,CAACC,SAAS,EAAE;MAC5B,IAAI,IAAI,CAACA,SAAS,CAACD,CAAC,CAAC,CAACE,SAAS,KAAKL,OAAO,CAACM,EAAE,EAAE;QAC9C,IAAI,CAACF,SAAS,CAACD,CAAC,CAAC,CAACI,GAAG,EAAE;QACvBL,aAAa,GAAG,IAAI;QACpB;;;IAIJ,IAAIA,aAAa,EAAE;MACjB,IAAI,CAACE,SAAS,CAACI,IAAI,CAAC;QAClBH,SAAS,EAAEL,OAAO,CAACM,EAAE;QACrBG,WAAW,EAAET,OAAO,CAACU,IAAI;QACzBH,GAAG,EAAE,CAAC;QACNI,KAAK,EAAEX,OAAO,CAACW;OAChB,CAAC;;IAEJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA,IAAI,CAACC,SAAS,GAAG,CAAC;IAClB,IAAI,CAACR,SAAS,CAACS,OAAO,CAACC,IAAI,IAAG;MAC5B,IAAI,CAACF,SAAS,IAAKE,IAAI,CAACP,GAAG,GAAGO,IAAI,CAACH,KAAM;IAC3C,CAAC,CAAC;EACJ;;AAjEWjB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT1B1B,8DAAsF;MAEtFA,4DAQK;;;MAVCA,iDAA4B;MAE7BA,eAA0B;MAA1BA,+CAA0B","names":["Product","i0","CartComponent","constructor","msg","ngOnInit","getMsg","subscribe","product","addProductToCart","productExists","i","cartItems","productId","id","qty","push","productName","name","price","cartTotal","forEach","item","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Radwa Hakeem\\Videos\\Track PHP\\Courses\\Angular-master\\Project Shopping-Cart\\shopping-cart\\src\\app\\components\\shopping-cart\\cart\\cart.component.ts","C:\\Users\\Radwa Hakeem\\Videos\\Track PHP\\Courses\\Angular-master\\Project Shopping-Cart\\shopping-cart\\src\\app\\components\\shopping-cart\\cart\\cart.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MessengerService } from 'src/app/services/messenger.service'\nimport { Product } from 'src/app/models/product';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent  implements OnInit {\n\n  cartItems = [\n    // { id: 1, proudctId: 1, productName: 'Test 1', qty: 4, price: 100 },\n    // { id: 2, proudctId: 3, productName: 'Test 3', qty: 5, price: 50 },\n    // { id: 3, proudctId: 2, productName: 'Test 2', qty: 3, price: 150 },\n    // { id: 4, proudctId: 4, productName: 'Test 4', qty: 2, price: 200 },\n  ];\n\n  cartTotal = 0\n\n  constructor(private msg: MessengerService) { }\n\n  ngOnInit() {\n    this.msg.getMsg().subscribe((product= Product) => {\n      this.addProductToCart(product)\n    })\n  }\n\n  addProductToCart(product: Product) {\n\n    let productExists = false\n\n    for (let i in this.cartItems) {\n      if (this.cartItems[i].productId === product.id) {\n        this.cartItems[i].qty++\n        productExists = true\n        break;\n      }\n    }\n\n    if (productExists) {\n      this.cartItems.push({\n        productId: product.id,\n        productName: product.name,\n        qty: 1,\n        price: product.price\n      })\n    }\n    // if (this.cartItems.length === 0) {\n    //   this.cartItems.push({\n    //     productId: product.id,\n    //     productName: product.name,\n    //     qty: 1,\n    //     price: product.price\n    //   })\n    // } else {\n    //   for (let i in this.cartItems) {\n    //     if (this.cartItems[i].productId === product.id) {\n    //       this.cartItems[i].qty++\n    //     } else {\n    //       this.cartItems.push({\n    //         productId: product.id,\n    //         productName: product.name,\n    //         qty: 1,\n    //         price: product.price\n    //       })\n    //     }\n    //   }\n    // }\n\n    this.cartTotal = 0\n    this.cartItems.forEach(item => {\n      this.cartTotal += (item.qty * item.price)\n    })\n  }\n\n}\n","<div *ngIf=\"cartItems.length === 0\" class=\"alert alert-info\">Your Cart is Empty.</div>\n\n<ul *ngIf=\"cartItems.length > 0\" class=\"list-group\">\n  <li class=\"list-group-item\" *ngFor=\"let item of cartItems\">\n    <app-cart-item [cartItem]=\"item\"></app-cart-item>\n  </li>\n\n  <li class=\"list-group-item active\">\n    <strong>Total</strong> {{ cartTotal | currency:'$' }}\n  </li>\n</ul>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}